# ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –°–∏—Å—Ç–µ–º–∞ –ó–∞–∫–∞–∑–æ–≤

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤. –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –¥–æ—Å—Ç–∞–≤–∫–∏.

## üîÑ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤**: –ö–æ–≥–¥–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–∞–º–∏, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–∫–∞–∑—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ 30 –¥–Ω–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –¥–Ω—è–º –¥–æ—Å—Ç–∞–≤–∫–∏
- **–£–º–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ó–∞–∫–∞–∑—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ –¥–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç –æ—Ç–º–µ—Ç–∏–ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏
- **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö

### 2. –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
- **–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–∞–º–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü
- **Cron Job**: –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ API –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Cron endpoint –∑–∞—â–∏—â–µ–Ω —Å–µ–∫—Ä–µ—Ç–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º

## üõ†Ô∏è API Endpoints

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–∞–º–∏
```
POST /api/admin/clients
```
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–æ–≤ –≤ –ø–æ–ª–µ `specialFeatures` –∫–∞–∫ JSON
- –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã –Ω–∞ 30 –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥ –µ—Å–ª–∏ `autoOrdersEnabled: true`

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü
```
POST /api/admin/auto-orders/schedule
Headers:
- Authorization: Bearer <token>
- X-Cron-Token: <cron_secret_token> (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
```

### –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–æ–≤
```
GET /api/admin/auto-orders/schedule
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–∞—Ö —Å –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–∞–º–∏ –∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞–∫–∞–∑–∞—Ö

## üìÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞ (—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `specialFeatures`)
```json
{
  "autoOrdersEnabled": true,
  "deliveryDays": {
    "monday": true,
    "tuesday": false,
    "wednesday": true,
    "thursday": false,
    "friday": true,
    "saturday": false,
    "sunday": false
  },
  "calories": 2000,
  "specialFeatures": "–ë–µ–∑ –ª—É–∫–∞"
}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∑–∞–∫–∞–∑
```json
{
  "orderNumber": 123,
  "customerId": "client_id",
  "deliveryAddress": "–ê–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞",
  "deliveryTime": "11:30",
  "quantity": 1,
  "calories": 2000,
  "specialFeatures": "–ë–µ–∑ –ª—É–∫–∞",
  "paymentStatus": "UNPAID",
  "paymentMethod": "CASH",
  "orderStatus": "PENDING",
  "isPrepaid": false,
  "isAutoOrder": true,
  "createdAt": "2024-01-15T11:30:00.000Z"
}
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cron Job

### –í–∞—Ä–∏–∞–Ω—Ç 1: Cron-job.org (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ cron-job.org
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ:
   - URL: `https://your-domain.com/api/admin/auto-orders/schedule`
   - Method: POST
   - Headers:
     - `X-Cron-Token: your_cron_secret`
   - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: 1-–≥–æ —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞ –≤ 00:00

### –í–∞—Ä–∏–∞–Ω—Ç 2: Vercel Cron Jobs
```json
// vercel.json
{
  "crons": [
    {
      "path": "/api/admin/auto-orders/schedule",
      "schedule": "0 0 1 * *"
    }
  ]
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Linux Cron
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab
0 0 1 * * curl -X POST https://your-domain.com/api/admin/auto-orders/schedule \
  -H "X-Cron-Token: your_cron_secret"
```

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
CRON_SECRET_TOKEN=your_super_secret_token_here
JWT_SECRET=your_jwt_secret_here
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
- –ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí —Ä–∞–∑–¥–µ–ª "–ö–ª–∏–µ–Ω—Ç—ã"
- –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –±–ª–æ–∫ –æ–± –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–∞—Ö
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –∑–∞–∫–∞–∑–æ–≤

### –õ–æ–≥–∏
–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–≤—Ç–æ-–∑–∞–∫–∞–∑–æ–≤
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
2. **–ì–∏–±–∫–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –∏–º–µ–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–ª–∏–µ–Ω—Ç–æ–≤
5. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –∏ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É, –≤–∫–ª—é—á–∞—è –¥–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –∫–∞–ª–æ—Ä–∏–∏
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–∫–∞–∑—ã –Ω–∞ 30 –¥–Ω–µ–π
3. **–ï–∂–µ–º–µ—Å—è—á–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ**: Cron Job –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä—É—á–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –∑–∞–∫–∞–∑–∞–º–∏.